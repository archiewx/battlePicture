(this.webpackJsonpbattlepicture=this.webpackJsonpbattlepicture||[]).push([[0],{162:function(e,t,r){},163:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"global",(function(){return R}));r(125);var n=r(0),c=r(21),s=r.n(c),u=r(71),i=r(91),o=r(119),l=r(19),p=r(39),b=r.n(p),j=r(68),d=r(121),f=r(47),g=r(171),h=r(166),m=r(120),O=r(66),x=r(40),y=r(169),v=r(170),q=r(167),w=r(168),D=r(20),C=r(92),k=r.n(C),L=r(110),S=r.n(L),N=k.a.create({}),z=k.a.create({adapter:S.a});function F(e){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z({url:"https://pic.sogou.com/napi/wap/pic",params:Object(D.a)({},t),headers:{Referer:"https://pic.sogou.com/pic/emo/searchList.jsp?statref=search_form&uID=".concat((1e7*Math.random()).toString(16).slice(1),"&spver=0&rcer=").concat(encodeURIComponent(t.query))}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N.interceptors.response.use((function(e){return e.data})),z.interceptors.response.use((function(e){return e.data}));var P={namespace:"global",state:{sgLoading:!1,sgDoutu:{query:{query:"\u54c8\u54c8 \u8868\u60c5",start:0,reqFrom:"wap_result",xml_len:48},list:[],more:0,total:0}},effects:{fetchSogouTuList:b.a.mark((function e(){var t,r,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b.select((function(e){return e.global}));case 2:return t=e.sent,r=t.sgDoutu,e.next=6,F(r.query);case 6:if(0!==(a=e.sent).status){e.next=12;break}return n=a.data,e.next=11,f.b.put(E.setState({sgDoutu:{query:Object(D.a)({},r.query),list:n.items,more:r.query.start<n.maxEnd,total:n.maxEnd}}));case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))},reducers:{updateQuery:function(e,t){var r=t.payload;return Object(D.a)(Object(D.a)({},e),{},{sgDoutu:Object(D.a)(Object(D.a)({},e.sgDoutu),{},{query:Object(D.a)(Object(D.a)({},e.sgDoutu.query),r)})})},setPage:function(e,t){var r=t.payload;return Object(D.a)(Object(D.a)({},e),{},{sgDoutu:Object(D.a)(Object(D.a)({},e.sgDoutu),{},{query:Object(D.a)(Object(D.a)({},e.sgDoutu.query),{},{start:(r.page-1)*e.sgDoutu.query.xml_len})})})}}},R=P,E=Object(f.a)(P),T=Object(f.d)(a),_=T.store,M=T.useReduxState,B=r(17);var J=function(){var e=M((function(e){return e.global})),t=e.sgDoutu,r=e.sgLoading,a=Object(f.c)(),c=Object(n.useState)(!1),s=Object(d.a)(c,2),u=s[0],i=s[1],l=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(E.setState({sgLoading:!0})),e.next=3,a(E.fetchSogouTuList());case 3:if(!e.sent){e.next=7;break}return a(E.setState({sgLoading:!1})),e.abrupt("return");case 7:o.b.warn("\u83b7\u53d6\u8868\u60c5\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u8bd5"),i(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){l()}),[]);var p=function(){l()};return Object(B.jsx)("div",{children:Object(B.jsxs)(h.a,{spinning:r,tip:u?Object(B.jsx)(m.a,{type:"primary",size:"small",onClick:l,children:"\ud83d\udc94 Failed...Please Retry~"}):null,children:[Object(B.jsxs)(O.a,{style:{height:50},align:"middle",justify:"space-between",children:[Object(B.jsx)(x.a,{span:14,children:Object(B.jsx)(y.a,{className:"pic-search no-drag",placeholder:"\u54c8\u54c8\u54c8",onKeyPress:function(e){"Enter"===e.key&&p()},onChange:function(e){a(E.updateQuery({query:e.target.value+" \u8868\u60c5"}))},suffix:Object(B.jsxs)(v.b,{children:[Object(B.jsx)(m.a,{type:"primary",size:"small",onClick:p,loading:r,className:"pic-search-btn",children:"\u641c\u7d22"}),Object(B.jsx)(m.a,{size:"small",shape:"circle",type:"primary",loading:r,onClick:l,icon:Object(B.jsx)(g.a,{})})]})})}),Object(B.jsx)(x.a,{children:Object(B.jsx)(q.a,{className:"no-drag",simple:!0,current:t.query.start/48+1,total:t.total,pageSize:48,onChange:function(e){a(E.setPage({page:e})),l()}})})]}),Object(B.jsx)(O.a,{className:"pic-wrapper",children:t.list.filter((function(e){return".gif"!==e.type})).map((function(e){return Object(B.jsx)(w.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e).then((function(){o.b.success("\u5df2\u590d\u5236\u7c98\u8d34\u677f\uff0cCTRL/CMD+C\u76f4\u63a5\u4f7f\u7528~")})).catch((function(e){o.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object(B.jsx)("img",{alt:"example",src:e.thumbUrl})},e.docId)}))}),Object(B.jsx)(O.a,{style:{height:20},children:Object(B.jsxs)("div",{className:"tips",children:["> \u53cd\u9988\u53ef\u53d1\u90ae\u4ef6\u5230",Object(B.jsx)("a",{href:"mailto:zhenglfsir@gmail.com",children:"zhenglfsir@gmail.com"})]})})]})})};var Q=function(){return Object(B.jsx)("div",{className:"app",children:Object(B.jsx)(l.c,{children:Object(B.jsx)(l.a,{exact:!0,path:"/",component:J})})})},U=(r(162),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,172)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))});o.b.config({top:0,duration:1500}),s.a.render(Object(B.jsx)(u.a,{store:_,children:Object(B.jsx)(i.a,{children:Object(B.jsx)(Q,{})})}),document.getElementById("root")),U()}},[[163,1,2]]]);
//# sourceMappingURL=main.3e3a8d96.chunk.js.map