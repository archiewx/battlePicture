(this.webpackJsonpbattlepicture=this.webpackJsonpbattlepicture||[]).push([[0],{170:function(e,t,n){},171:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"global",(function(){return G}));n(133);var c=n(0),a=n(23),s=n.n(a),i=n(69),u=n(104),o=n(127),l=n(20),j=n(19),b=n(28),p=n.n(b),f=n(51),d=n(92),O=n(183),h=n(180),x=n(181),m=n(41),g=n(173),y=n(40),v=n(65),w=n(42),k=n(175),q=n(179),C=n(174),D=n(177),S=n(105),I=n.n(S),L=n(122),N=n.n(L),z=I.a.create({}),E=I.a.create({adapter:N.a});function P(e){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E({url:"https://pic.sogou.com/napi/wap/pic",params:Object(j.a)({},t),headers:{Referer:"https://pic.sogou.com/pic/emo/searchList.jsp?statref=search_form&uID=".concat((1e7*Math.random()).toString(16).slice(1),"&spver=0&rcer=").concat(encodeURIComponent(t.query))}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}z.interceptors.response.use((function(e){return e.data})),E.interceptors.response.use((function(e){return e.data}));var R={namespace:"global",state:{loading:!1,sgDoutu:{query:{query:"\u54c8\u54c8 \u8868\u60c5",start:0,reqFrom:"wap_result",xml_len:48},list:[],more:0,total:0},query:{start:0,w:"\u54c8\u54c8",size:30},list:[]},effects:{fetchPicList:p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.select((function(e){return e.global}));case 2:return t=e.sent,n=t.query,e.next=6,m.b.call(window.$api.fetchPicList,n);case 6:return r=e.sent,e.next=9,m.b.put(M.setState({list:r.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{url:"https://image.dbbqb.com/".concat(e.path)})}))}));case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})),fetchSogouTuList:p.a.mark((function e(){var t,n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.b.select((function(e){return e.global}));case 2:return t=e.sent,n=t.sgDoutu,e.next=6,P(n.query);case 6:if(0!==(r=e.sent).status){e.next=12;break}return c=r.data,e.next=11,m.b.put(M.setState({sgDoutu:{query:Object(j.a)({},n.query),list:c.items,more:n.query.start<c.maxEnd,total:c.maxEnd}}));case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))},reducers:{updateQuery:function(e,t){var n=t.payload;return Object(j.a)(Object(j.a)({},e),{},{sgDoutu:Object(j.a)(Object(j.a)({},e.sgDoutu),{},{query:Object(j.a)(Object(j.a)({},e.sgDoutu.query),n)})})},setPage:function(e,t){var n=t.payload;return Object(j.a)(Object(j.a)({},e),{},{sgDoutu:Object(j.a)(Object(j.a)({},e.sgDoutu),{},{query:Object(j.a)(Object(j.a)({},e.sgDoutu.query),{},{start:(n.page-1)*e.sgDoutu.query.xml_len})})})}}},G=R,M=Object(m.a)(R),T=Object(m.d)(r),$=T.store,_=T.useReduxState,B=n(182),A=n(178),J=n(176),K=n(7);var Q=function(){var e=Object(l.f)();return Object(K.jsx)(A.a,{trigger:["click"],overlay:Object(K.jsx)(J.a,{onClick:function(t){return e.push(t.key)},children:Object(K.jsx)(J.a.ItemGroup,{title:"\u529f\u80fd",children:Object(K.jsx)(J.a.Item,{children:"\u6700\u8fd1\u4f7f\u7528"},"/recently")})}),children:Object(K.jsx)(B.a,{})})};var U=function(){var e=_((function(e){return e.global})),t=e.loading,n=e.list,r=e.query,a=Object(m.c)(),s=Object(c.useState)(!1),i=Object(d.a)(s,2),u=i[0],l=i[1],b=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(M.setState({loading:!0})),e.next=3,a(M.fetchPicList());case 3:if(!e.sent){e.next=7;break}return a(M.setState({loading:!1})),e.abrupt("return");case 7:o.b.warn("\u83b7\u53d6\u8868\u60c5\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u8bd5"),l(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){b()}),[]);var S=function(){b()};return Object(K.jsx)("div",{children:Object(K.jsxs)(g.a,{spinning:t,tip:u?Object(K.jsx)(y.a,{type:"primary",size:"small",onClick:b,children:"\ud83d\udc94 Failed...Please Retry~"}):null,children:[Object(K.jsxs)(v.a,{style:{height:50},align:"middle",justify:"start",gutter:10,children:[Object(K.jsx)(w.a,{children:Object(K.jsx)(Q,{})}),Object(K.jsx)(w.a,{span:14,children:Object(K.jsx)(k.a,{className:"pic-search no-drag",placeholder:"\u54c8\u54c8\u54c8",onKeyPress:function(e){"Enter"===e.key&&S()},onChange:function(e){a(M.setState({query:Object(j.a)(Object(j.a)({},r),{},{w:e.target.value})}))},suffix:Object(K.jsxs)(q.b,{children:[Object(K.jsx)(y.a,{type:"primary",size:"small",onClick:S,loading:t,className:"pic-search-btn",children:"\u641c\u7d22"}),Object(K.jsx)(y.a,{size:"small",shape:"circle",type:"primary",loading:t,onClick:b,icon:Object(K.jsx)(O.a,{})})]})})}),Object(K.jsx)(w.a,{children:Object(K.jsxs)(q.b,{children:[Object(K.jsx)(y.a,{icon:Object(K.jsx)(h.a,{}),disabled:r.start<=0,loading:t,onClick:function(){a(M.setState({query:Object(j.a)(Object(j.a)({},r),{},{start:r.start-r.size})})),b()},shape:"circle"}),Object(K.jsx)(y.a,{icon:Object(K.jsx)(x.a,{}),loading:t,onClick:function(){a(M.setState({query:Object(j.a)(Object(j.a)({},r),{},{start:r.start+r.size})})),b()},shape:"circle"})]})})]}),Object(K.jsx)(v.a,{className:"pic-wrapper",children:n.filter((function(e){return".gif"!==e.type})).map((function(e){return Object(K.jsx)(C.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e.url,!0).catch((function(e){o.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object(K.jsx)("img",{alt:"example",src:e.url})},e.id)}))}),Object(K.jsx)(v.a,{style:{height:20},children:Object(K.jsxs)("div",{className:"tips",children:["> \u53cd\u9988\u53ef\u53d1\u90ae\u4ef6\u5230",Object(K.jsx)("a",{href:"mailto:zhenglfsir@gmail.com",children:"zhenglfsir@gmail.com"}),Object(K.jsx)(y.a,{style:{float:"right"},type:"link",onClick:function(){D.a.warning({title:"\u6682\u65f6\u65e0\u6cd5\u89e3\u51b3\u7684\u95ee\u9898",content:Object(K.jsx)("div",{children:Object(K.jsx)("p",{children:"1. Gif \u6587\u4ef6\u65e0\u6cd5\u652f\u6301(Electron NativeImage \u65e0\u6cd5\u590d\u5236GIF, \u5f85\u89e3\u51b3\u4e2d)"})}),onOk:function(){return o.b.success("\ud83d\ude1a\ud83d\ude1a\ud83d\ude1a\ud83d\ude1a \u611f\u8c22\u652f\u6301~")}})},children:"\u5c40\u9650"})]})})]})})};var H=function(){return Object(K.jsx)("div",{children:"Me"})},V=n(108);var W=function(e){var t=e.children,n=Object(l.f)();return Object(K.jsxs)("div",{children:[Object(K.jsxs)(y.a,{type:"primary",shape:"round",onClick:function(){return n.goBack()},children:[Object(K.jsx)(V.a,{}),"\u8fd4\u56de"]}),t]})};var X=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(f.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$api.getAppIMAGEList();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object(K.jsxs)("div",{children:[Object(K.jsx)(W,{}),Object(K.jsx)(v.a,{className:"pic-wrapper",children:n.map((function(e){return Object(K.jsx)(C.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e).then((function(){o.b.success("\u5df2\u590d\u5236\u7c98\u8d34\u677f\uff0cCTRL/CMD+C\u76f4\u63a5\u4f7f\u7528~")})).catch((function(e){o.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object(K.jsx)("img",{alt:"example",src:e})},e)}))})]})};var Y=function(){return Object(K.jsx)("div",{className:"app",children:Object(K.jsxs)(l.c,{children:[Object(K.jsx)(l.a,{exact:!0,path:"/",component:U}),Object(K.jsx)(l.a,{exact:!0,path:"/me",component:H}),Object(K.jsx)(l.a,{exact:!0,path:"/recently",component:X})]})})},Z=(n(170),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))});o.b.config({top:0,duration:1.5,maxCount:1}),s.a.render(Object(K.jsx)(i.a,{store:$,children:Object(K.jsx)(u.a,{children:Object(K.jsx)(Y,{})})}),document.getElementById("root")),Z()}},[[171,1,2]]]);
//# sourceMappingURL=main.35237314.chunk.js.map