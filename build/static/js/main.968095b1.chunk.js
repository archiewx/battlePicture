(this.webpackJsonpbattlepicture=this.webpackJsonpbattlepicture||[]).push([[0],{161:function(e,t,r){},162:function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"global",(function(){return P}));r(124);var n=r(0),c=r(21),s=r.n(c),u=r(91),i=r(19),o=r(39),l=r.n(o),p=r(67),b=r(121),j=r(47),d=r(171),f=r(119),g=r(166),h=r(120),m=r(66),O=r(40),x=r(169),y=r(170),v=r(167),q=r(168),w=r(20),D=r(92),C=r.n(D),k=r(110),L=r.n(k),S=C.a.create({}),N=C.a.create({adapter:L.a});function z(e){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N({url:"https://pic.sogou.com/napi/wap/pic",params:Object(w.a)({},t),headers:{Referer:"https://pic.sogou.com/pic/emo/searchList.jsp?statref=search_form&uID=".concat((1e7*Math.random()).toString(16).slice(1),"&spver=0&rcer=").concat(encodeURIComponent(t.query))}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}S.interceptors.response.use((function(e){return e.data})),N.interceptors.response.use((function(e){return e.data}));var I={namespace:"global",state:{sgLoading:!1,sgDoutu:{query:{query:"\u54c8\u54c8 \u8868\u60c5",start:0,reqFrom:"wap_result",xml_len:48},list:[],more:0,total:0}},effects:{fetchSogouTuList:l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.b.select((function(e){return e.global}));case 2:return t=e.sent,r=t.sgDoutu,e.next=6,z(r.query);case 6:if(0!==(a=e.sent).status){e.next=12;break}return n=a.data,e.next=11,j.b.put(R.setState({sgDoutu:{query:Object(w.a)({},r.query),list:n.items,more:r.query.start<n.maxEnd,total:n.maxEnd}}));case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))},reducers:{updateQuery:function(e,t){var r=t.payload;return Object(w.a)(Object(w.a)({},e),{},{sgDoutu:Object(w.a)(Object(w.a)({},e.sgDoutu),{},{query:Object(w.a)(Object(w.a)({},e.sgDoutu.query),r)})})},setPage:function(e,t){var r=t.payload;return Object(w.a)(Object(w.a)({},e),{},{sgDoutu:Object(w.a)(Object(w.a)({},e.sgDoutu),{},{query:Object(w.a)(Object(w.a)({},e.sgDoutu.query),{},{start:(r.page-1)*e.sgDoutu.query.xml_len})})})}}},P=I,R=Object(j.a)(I),E=Object(j.d)(a),T=E.store,_=E.useReduxState,M=r(17);var B=function(){var e=_((function(e){return e.global})),t=e.sgDoutu,r=e.sgLoading,a=Object(j.c)(),c=Object(n.useState)(!1),s=Object(b.a)(c,2),u=s[0],i=s[1],o=function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(R.setState({sgLoading:!0})),e.next=3,a(R.fetchSogouTuList());case 3:if(!e.sent){e.next=7;break}return a(R.setState({sgLoading:!1})),e.abrupt("return");case 7:f.b.warn("\u83b7\u53d6\u8868\u60c5\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u8bd5"),i(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){o()}),[]);var w=function(){o()};return Object(M.jsx)("div",{children:Object(M.jsxs)(g.a,{spinning:r,tip:u?Object(M.jsx)(h.a,{type:"primary",size:"small",onClick:o,children:"\ud83d\udc94 Failed...Please Retry~"}):null,children:[Object(M.jsxs)(m.a,{style:{height:50},align:"middle",justify:"space-between",children:[Object(M.jsx)(O.a,{span:14,children:Object(M.jsx)(x.a,{className:"pic-search no-drag",placeholder:"\u54c8\u54c8\u54c8",onKeyPress:function(e){"Enter"===e.key&&w()},onChange:function(e){a(R.updateQuery({query:e.target.value+" \u8868\u60c5"}))},suffix:Object(M.jsxs)(y.b,{children:[Object(M.jsx)(h.a,{type:"primary",size:"small",onClick:w,loading:r,className:"pic-search-btn",children:"\u641c\u7d22"}),Object(M.jsx)(h.a,{size:"small",shape:"circle",type:"primary",loading:r,onClick:o,icon:Object(M.jsx)(d.a,{})})]})})}),Object(M.jsx)(O.a,{children:Object(M.jsx)(v.a,{className:"no-drag",simple:!0,current:t.query.start/48+1,total:t.total,pageSize:48,onChange:function(e){a(R.setPage({page:e})),o()}})})]}),Object(M.jsx)(m.a,{className:"pic-wrapper",children:t.list.filter((function(e){return".gif"!==e.type})).map((function(e){return Object(M.jsx)(q.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e).then((function(){f.b.success("\u5df2\u590d\u5236\u7c98\u8d34\u677f\uff0cCTRL/CMD+C\u76f4\u63a5\u4f7f\u7528~")})).catch((function(e){f.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object(M.jsx)("img",{alt:"example",src:e.thumbUrl})},e.docId)}))}),Object(M.jsx)(m.a,{style:{height:20},children:Object(M.jsxs)("div",{className:"tips",children:["> \u53cd\u9988\u53ef\u53d1\u90ae\u4ef6\u5230",Object(M.jsx)("a",{href:"mailto:zhenglfsir@gmail.com",children:"zhenglfsir@gmail.com"})]})})]})})};var J=function(){return Object(M.jsx)("div",{className:"app",children:Object(M.jsx)(i.c,{children:Object(M.jsx)(i.a,{exact:!0,path:"/",component:B})})})},Q=(r(161),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,172)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))}),U=r(71);s.a.render(Object(M.jsx)(U.a,{store:T,children:Object(M.jsx)(u.a,{children:Object(M.jsx)(J,{})})}),document.getElementById("root")),Q()}},[[162,1,2]]]);
//# sourceMappingURL=main.968095b1.chunk.js.map