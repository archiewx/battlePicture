(this.webpackJsonpbattlepicture=this.webpackJsonpbattlepicture||[]).push([[0],{170:function(e,t,r){},171:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"global",(function(){return z}));r(133);var c=r(0),a=r(23),s=r.n(a),u=r(75),i=r(102),o=r(129),l=r(20),j=r(32),p=r.n(j),b=r(51),d=r(92),f=r(181),h=r(49),O=r(173),g=r(70),x=r(71),m=r(42),y=r(177),v=r(179),w=r(174),C=r(175),k=r(22),D=r(103),q=r.n(D),L=r(120),S=r.n(L),I=q.a.create({}),N=q.a.create({adapter:S.a});function R(e){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N({url:"https://pic.sogou.com/napi/wap/pic",params:Object(k.a)({},t),headers:{Referer:"https://pic.sogou.com/pic/emo/searchList.jsp?statref=search_form&uID=".concat((1e7*Math.random()).toString(16).slice(1),"&spver=0&rcer=").concat(encodeURIComponent(t.query))}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}I.interceptors.response.use((function(e){return e.data})),N.interceptors.response.use((function(e){return e.data}));var M={namespace:"global",state:{sgLoading:!1,sgDoutu:{query:{query:"\u54c8\u54c8 \u8868\u60c5",start:0,reqFrom:"wap_result",xml_len:48},list:[],more:0,total:0}},effects:{fetchSogouTuList:p.a.mark((function e(){var t,r,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.select((function(e){return e.global}));case 2:return t=e.sent,r=t.sgDoutu,e.next=6,R(r.query);case 6:if(0!==(n=e.sent).status){e.next=12;break}return c=n.data,e.next=11,h.b.put(F.setState({sgDoutu:{query:Object(k.a)({},r.query),list:c.items,more:r.query.start<c.maxEnd,total:c.maxEnd}}));case 11:return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)}))},reducers:{updateQuery:function(e,t){var r=t.payload;return Object(k.a)(Object(k.a)({},e),{},{sgDoutu:Object(k.a)(Object(k.a)({},e.sgDoutu),{},{query:Object(k.a)(Object(k.a)({},e.sgDoutu.query),r)})})},setPage:function(e,t){var r=t.payload;return Object(k.a)(Object(k.a)({},e),{},{sgDoutu:Object(k.a)(Object(k.a)({},e.sgDoutu),{},{query:Object(k.a)(Object(k.a)({},e.sgDoutu.query),{},{start:(r.page-1)*e.sgDoutu.query.xml_len})})})}}},z=M,F=Object(h.a)(M),P=Object(h.d)(n),T=P.store,G=P.useReduxState,_=r(180),B=r(178),U=r(176),$=r(8);var A=function(){var e=Object(l.f)();return Object($.jsx)(B.a,{trigger:["click"],overlay:Object($.jsx)(U.a,{onClick:function(t){return e.push(t.key)},children:Object($.jsx)(U.a.ItemGroup,{title:"\u529f\u80fd",children:Object($.jsx)(U.a.Item,{children:"\u6700\u8fd1\u4f7f\u7528"},"/recently")})}),children:Object($.jsx)(_.a,{})})};var J=function(){var e=G((function(e){return e.global})),t=e.sgDoutu,r=e.sgLoading,n=Object(h.c)(),a=Object(c.useState)(!1),s=Object(d.a)(a,2),u=s[0],i=s[1],l=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(F.setState({sgLoading:!0})),e.next=3,n(F.fetchSogouTuList());case 3:if(!e.sent){e.next=7;break}return n(F.setState({sgLoading:!1})),e.abrupt("return");case 7:o.b.warn("\u83b7\u53d6\u8868\u60c5\u5931\u8d25\uff0c\u70b9\u51fb\u91cd\u8bd5"),i(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){l()}),[]);var j=function(){l()};return Object($.jsx)("div",{children:Object($.jsxs)(O.a,{spinning:r,tip:u?Object($.jsx)(g.a,{type:"primary",size:"small",onClick:l,children:"\ud83d\udc94 Failed...Please Retry~"}):null,children:[Object($.jsxs)(x.a,{style:{height:50},align:"middle",justify:"start",gutter:10,children:[Object($.jsx)(m.a,{children:Object($.jsx)(A,{})}),Object($.jsx)(m.a,{span:14,children:Object($.jsx)(y.a,{className:"pic-search no-drag",placeholder:"\u54c8\u54c8\u54c8",onKeyPress:function(e){"Enter"===e.key&&j()},onChange:function(e){n(F.updateQuery({query:e.target.value+" \u8868\u60c5"}))},suffix:Object($.jsxs)(v.b,{children:[Object($.jsx)(g.a,{type:"primary",size:"small",onClick:j,loading:r,className:"pic-search-btn",children:"\u641c\u7d22"}),Object($.jsx)(g.a,{size:"small",shape:"circle",type:"primary",loading:r,onClick:l,icon:Object($.jsx)(f.a,{})})]})})}),Object($.jsx)(m.a,{children:Object($.jsx)(w.a,{className:"no-drag",simple:!0,current:t.query.start/48+1,total:t.total,pageSize:48,onChange:function(e){n(F.setPage({page:e})),l()}})})]}),Object($.jsx)(x.a,{className:"pic-wrapper",children:t.list.filter((function(e){return".gif"!==e.type})).map((function(e){return Object($.jsx)(C.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e.picUrl).then((function(){o.b.success("\u5df2\u590d\u5236\u7c98\u8d34\u677f\uff0cCTRL/CMD+C\u76f4\u63a5\u4f7f\u7528~")})).catch((function(e){o.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object($.jsx)("img",{alt:"example",src:e.thumbUrl})},e.docId)}))}),Object($.jsx)(x.a,{style:{height:20},children:Object($.jsxs)("div",{className:"tips",children:["> \u53cd\u9988\u53ef\u53d1\u90ae\u4ef6\u5230",Object($.jsx)("a",{href:"mailto:zhenglfsir@gmail.com",children:"zhenglfsir@gmail.com"})]})})]})})};var Q=function(){return Object($.jsx)("div",{children:"Me"})},K=r(77);var H=function(e){var t=e.children,r=Object(l.f)();return Object($.jsxs)("div",{children:[Object($.jsxs)(g.a,{type:"primary",shape:"round",onClick:function(){return r.goBack()},children:[Object($.jsx)(K.a,{}),"\u8fd4\u56de"]}),t]})};var V=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),r=t[0],n=t[1],a=function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$api.getAppIMAGEList();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a()}),[]),Object($.jsxs)("div",{children:[Object($.jsx)(H,{}),Object($.jsx)(x.a,{className:"pic-wrapper",children:r.map((function(e){return Object($.jsx)(C.a,{onDoubleClick:function(){return function(e){window.$api.copyRemoteIMG(e).then((function(){o.b.success("\u5df2\u590d\u5236\u7c98\u8d34\u677f\uff0cCTRL/CMD+C\u76f4\u63a5\u4f7f\u7528~")})).catch((function(e){o.b.error(e.message)}))}(e)},className:"card-pic",hoverable:!0,cover:Object($.jsx)("img",{alt:"example",src:e})},e)}))})]})};var W=function(){return Object($.jsx)("div",{className:"app",children:Object($.jsxs)(l.c,{children:[Object($.jsx)(l.a,{exact:!0,path:"/",component:J}),Object($.jsx)(l.a,{exact:!0,path:"/me",component:Q}),Object($.jsx)(l.a,{exact:!0,path:"/recently",component:V})]})})},X=(r(170),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,182)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))});o.b.config({top:0,duration:1.5,maxCount:1}),s.a.render(Object($.jsx)(u.a,{store:T,children:Object($.jsx)(i.a,{children:Object($.jsx)(W,{})})}),document.getElementById("root")),X()}},[[171,1,2]]]);
//# sourceMappingURL=main.93058902.chunk.js.map